# Environment Variables for SMTP Relay
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=production

# SMTP Server Settings
SMTP_HOST=0.0.0.0
SMTP_PORT=25
SMTP_SUBMISSION_PORT=587
SMTP_SECURE_PORT=465

# TLS Certificate Paths
TLS_CERT_PATH=/path/to/cert.pem
TLS_KEY_PATH=/path/to/key.pem

# Exchange Online OAuth2 Settings
EXCHANGE_HOST=smtp.office365.com
EXCHANGE_PORT=587
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret

# Alternative: Basic Auth (not recommended for production)
# EXCHANGE_USERNAME=relay@yourdomain.com
# EXCHANGE_PASSWORD=your-password

# Database Connection (if using database for users)
# DB_TYPE=postgres
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=smtprelay
# DB_USER=smtprelay
# DB_PASSWORD=your-db-password

# Redis Connection (for rate limiting and queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Logging
LOG_LEVEL=info
LOG_FILE=/var/log/smtp-relay/smtp-relay.log

# Monitoring
METRICS_PORT=9090
HEALTH_PORT=8080

# Security
ENABLE_SPF=true
ENABLE_DKIM=false
ENABLE_DMARC=false

# Rate Limiting
RATE_LIMIT_PER_SENDER=100
RATE_LIMIT_PER_IP=500
RATE_LIMIT_GLOBAL=1000

# Queue Settings
QUEUE_MAX_RETRIES=5
QUEUE_RETRY_DELAY=60

# Performance
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=300
MAX_MESSAGE_SIZE=25

# Debug Mode
DEBUG=false

# Webhook for Alerts
ALERT_WEBHOOK_URL=

# LDAP Settings (if using LDAP authentication)
# LDAP_URL=ldap://ldap.example.com:389
# LDAP_BIND_DN=cn=admin,dc=example,dc=com
# LDAP_BIND_PASSWORD=admin-password
# LDAP_SEARCH_BASE=ou=users,dc=example,dc=com
# LDAP_SEARCH_FILTER=(mail={{username}})

# Sentry Error Tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id